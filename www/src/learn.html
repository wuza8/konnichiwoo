<!DOCTYPE HTML>

<HTML>
<head>
    <link rel="stylesheet" href="dark.css">
    <link rel="stylesheet" href="layout.css">

    <script>
        function init(){
            fetch('art-template.html')
            .then((response) => response.text())
            .then((data) => loadArts(data));
        }
        
        function loadArts(template) {
            fetch('history.json')
            .then((response) => response.json())
            .then((data) => {
                data.history.forEach(h => {
                    code = new String(template);

                    code = code.replaceAll("{{title}}", h.title);
                    code = code.replaceAll("{{type}}", h.type);
                    code = code.replaceAll("{{iconsrc}}", "icons\\"+h.id+".jpg");
                    code = code.replaceAll("{{progressPercent}}", h.progress);
                    code = code.replaceAll("{{mapper}}", h.mapper);
                    code = code.replaceAll("{{thumbs}}", h.thumbs);
                    code = code.replaceAll("{{progressPercent}}", h.progress);

                    document.getElementById("history-art-place").innerHTML += code;
                });
            })
        }

        init();
    </script>
</head>

<body>
    <nav>
        <img class="logo" src="logo.svg"></img>
        <ul>
            <li>Learn</li>
            <li>Forum</li>
            <li>My profile</li>
            <li>Settings</li>
        </ul>
        <div id="rightSideButtons">
            <button class="butt b-secondary">+ New</button>
            <button class="butt b-primary">Start repetition</button>
            <button class="butt b-secondary">Logout</button>
        </div>
    </nav>
    <div id="content-b">
        <div class="selection-bar">Continue learning
            <div class="selection-bar-end"></div>
        </div>
        <span id="history-art-place"></span>
        <div class="button-history-place">
            <button class="butt b-secondary button-history">Show all history</button>
        </div>

        <div class="selection-bar">Find new stuff
            <div class="selection-bar-end" style="width: calc(100% - 152px);"></div>
        </div>
    </div>
</body>
</HTML>
